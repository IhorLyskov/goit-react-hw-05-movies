{"version":3,"file":"static/js/10.ba629628.chunk.js","mappings":"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","sources":["components/Messages/Messages.styled.js","components/MoviesDetails/DetailsLinks.styled.js","components/MoviesDetails/DetailsLinks.jsx","components/MoviesDetails/MovieDescription.styled.js","components/MoviesDetails/MovieDescription.jsx","components/GoBack/GoBack.styled.js","components/MoviesDetails/MoviesDetails.jsx","utils/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ErrorMessage = styled.p`\n  text-align: center;\n  font-size: ${p => p.theme.fontSizes.m};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  color: ${p => p.theme.colors.red};\n`;\n\nexport const WarningMessage = styled.p`\n  text-align: center;\n  font-size: ${p => p.theme.fontSizes.m};\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n","import styled from 'styled-components';\n\nexport const DetailsLinksList = styled.ul`\n  list-style: none;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const DetailsLinksItem = styled.li``;\n","import { DetailsLinksList, DetailsLinksItem } from './DetailsLinks.styled';\nimport { KeyLink } from '../KeyLink/KeyLink.styled';\n\nexport const DetailsLinks = () => {\n  return (\n    <DetailsLinksList>\n      <DetailsLinksItem>\n        <KeyLink to=\"cast\">Cast</KeyLink>\n      </DetailsLinksItem>\n      <DetailsLinksItem>\n        <KeyLink to=\"reviews\">Reviews</KeyLink>\n      </DetailsLinksItem>\n    </DetailsLinksList>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MovieImage = styled.img`\n  display: block;\n  width: 300px;\n`;\n\nexport const Title = styled.h2`\n  text-align: center;\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n\nexport const Wrapper = styled.div`\n  padding: ${p => p.theme.space[3]}px;\n`;\n\nexport const Description = styled.p`\n  margin: ${p => p.theme.space[3]}px;\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n\nexport const SubTitle = styled.span`\n  display: block;\n  margin-bottom: ${p => p.theme.space[3]}px;\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n","import { Box } from '../Box/Box';\nimport { Suspense } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { DetailsLinks } from './DetailsLinks';\nimport Loader from 'components/Loader/Loader';\nimport noImage from '../../images/noImage.png';\nimport PropTypes from 'prop-types';\nimport {\n  MovieImage,\n  Wrapper,\n  Title,\n  SubTitle,\n  Description,\n} from './MovieDescription.styled';\n\nexport const MovieDescription = ({ movieDetails }) => {\n  const {\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = movieDetails;\n\n  return (\n    <>\n      <Box display=\"flex\" maxWidth={900} mx=\"auto\">\n        <MovieImage\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w342${poster_path}`\n              : noImage\n          }\n          alt={original_title}\n        />\n        <Wrapper>\n          <Title>\n            {release_date\n              ? `${original_title} (${release_date.substring(0, 4)})`\n              : `${original_title}`}\n          </Title>\n          <Description>{`User score: ${Math.round(\n            vote_average * 10\n          )}%`}</Description>\n          <Description>\n            <SubTitle>Overview:</SubTitle>\n            {overview ? overview : 'Overview not found'}\n          </Description>\n          <Description>\n            <SubTitle>Genres:</SubTitle>\n            {genres.length > 0\n              ? genres.map(genre => genre.name).join(', ')\n              : 'Genres not found'}\n          </Description>\n        </Wrapper>\n      </Box>\n\n      <DetailsLinks />\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nMovieDescription.propTypes = {\n  movieDetails: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    release_date: PropTypes.string,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string,\n    genres: PropTypes.array,\n  }).isRequired,\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const GoBack = styled(NavLink)`\n  text-decoration: none;\n  font-size: ${p => p.theme.fontSizes.m};\n  border-radius: ${p => p.theme.radius.normal};\n  padding: ${p => p.theme.space[3]}px;\n  min-width: 100px;\n  margin: 20px 0 ${p => p.theme.space[5]}px 16px;\n  border: none;\n  display: inline-block;\n  text-align: center;\n  color: ${p => p.theme.colors.text};\n  border: 2px solid ${p => p.theme.colors.blue};\n\n  &:hover,\n  &:focus {\n    color: ${p => p.theme.colors.blue};\n    box-shadow: 2px 2px 4px rgba(1, 180, 228, 0.5),\n      -2px -2px 4px rgba(1, 180, 228, 0.5);\n  }\n`;\nexport default GoBack;\n","import { useState, useEffect, useRef } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { getMovieDetails } from '../../utils/api';\nimport { Box } from '../Box/Box';\nimport Loader from '../Loader/Loader';\nimport { MovieDescription } from './MovieDescription';\nimport { IconContext } from 'react-icons';\nimport { FaArrowLeft } from 'react-icons/fa';\nimport GoBack from '../GoBack/GoBack.styled';\nimport { ErrorMessage } from '../Messages/Messages.styled';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const { id } = useParams();\n  const { state: prevLocation } = useLocation();\n  const [isLoader, setIsLoader] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const linkGoBack = useRef(prevLocation ?? '/');\n\n  useEffect(() => {\n    setIsLoader(true);\n\n    getMovieDetails(id)\n      .then(result => {\n        setMovieDetails(result);\n        setIsError(false);\n      })\n      .catch(() => setIsError(true))\n      .finally(() => setIsLoader(false));\n  }, [id]);\n\n  return (\n    <Box>\n      <GoBack to={linkGoBack.current}>\n        <IconContext.Provider\n          value={{ size: '0.7em', style: { marginTop: '2px' } }}\n        >\n          <FaArrowLeft />\n        </IconContext.Provider>\n        {' Go back'}\n      </GoBack>\n      {isLoader && <Loader />}\n      {isError && !isLoader && (\n        <ErrorMessage>Net error! Repeat please...</ErrorMessage>\n      )}\n      {!isLoader && !isError && movieDetails && (\n        <MovieDescription movieDetails={movieDetails} />\n      )}\n    </Box>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst KEY = '59b490478b7d8f1129f5bb9350f6c53c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.params = {\n  api_key: KEY,\n};\n\nexport async function searchMovies(query) {\n  const { data } = await axios.get(`/search/movie?&query=${query}`);\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}`);\n  return data;\n}\n\nexport async function getCast(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/credits`);\n  return data.cast;\n}\n\nexport async function getReviews(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/reviews`);\n  return data.results;\n}\n\n// const ChildComponent = () => {\n//   const [todos, setTodos] = useState([]);\n\n//   useEffect(() => {\n//     const controller = new AbortController();\n\n//     async function fetchData() {\n//       try {\n//         const res = await axios.get(\n//           'https://jsonplaceholder.typicode.com/todos',\n//           {\n//             signal: controller.signal,\n//           }\n//         );\n//         setTodos((prevTodos) => [...prevTodos, ...res.data]);\n//       } catch (error) {}\n//     }\n\n//     fetchData();\n\n//     return () => {\n//       controller.abort();\n//     };\n//   }, []);\n"],"names":["ErrorMessage","styled","p","theme","fontSizes","m","fontWeights","bold","colors","red","WarningMessage","DetailsLinksList","DetailsLinksItem","DetailsLinks","to","MovieImage","Title","Wrapper","space","Description","SubTitle","MovieDescription","movieDetails","poster_path","original_title","release_date","vote_average","overview","genres","Box","display","maxWidth","mx","src","noImage","alt","substring","Math","round","length","map","genre","name","join","Suspense","fallback","Loader","NavLink","radius","normal","text","blue","useState","setMovieDetails","id","useParams","prevLocation","useLocation","state","isLoader","setIsLoader","isError","setIsError","linkGoBack","useRef","useEffect","getMovieDetails","then","result","catch","finally","current","value","size","style","marginTop","searchMovies","query","axios","data","results","movieId","getCast","cast","getReviews","api_key"],"sourceRoot":""}