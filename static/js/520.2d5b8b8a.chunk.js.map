{"version":3,"file":"static/js/520.2d5b8b8a.chunk.js","mappings":"yNAEaA,EAAeC,EAAAA,GAAAA,EAAH,sGAEV,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,UAAUC,CAAtB,IACC,SAAAH,GAAC,OAAIA,EAAEC,MAAMG,YAAYC,IAAxB,IACP,SAAAL,GAAC,OAAIA,EAAEC,MAAMK,OAAOC,GAAnB,IAGCC,EAAiBT,EAAAA,GAAAA,EAAH,uFAEZ,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,UAAUC,CAAtB,IACC,SAAAH,GAAC,OAAIA,EAAEC,MAAMG,YAAYC,IAAxB,G,8GCTLI,EAAOV,EAAAA,GAAAA,GAAH,4VAIC,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IACA,SAAAV,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IACE,SAAAV,GAAC,OAAIA,EAAEC,MAAMK,OAAOK,SAAnB,IACJ,SAAAX,GAAC,OAAIA,EAAEC,MAAMW,OAAOC,MAAnB,IASPC,GAAYf,EAAAA,EAAAA,IAAOgB,EAAAA,GAAPhB,CAAH,uKAIF,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IACN,SAAAV,GAAC,OAAIA,EAAEC,MAAMC,UAAUc,CAAtB,IACC,SAAAhB,GAAC,OAAIA,EAAEC,MAAMG,YAAYC,IAAxB,IACP,SAAAL,GAAC,OAAIA,EAAEC,MAAMK,OAAOW,IAAnB,IAGCC,EAAQnB,EAAAA,GAAAA,IAAH,oFAGC,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IAGPS,EAAOpB,EAAAA,GAAAA,KAAH,kLAKJ,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IACK,SAAAV,GAAC,OAAIA,EAAEC,MAAMW,OAAOC,MAAnB,IACT,gBAAGO,EAAH,EAAGA,KAAH,OAAeA,GAAQ,GAAKA,GAAQ,EAAI,OAAS,OAAjD,IACW,gBAAGA,EAAH,EAAGA,KAAH,OAClBA,EAAO,EAAI,MAAQA,EAAO,EAAI,QAAU,QADtB,IAITC,EAAQtB,EAAAA,GAAAA,EAAH,uFAEC,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IACL,SAAAV,GAAC,OAAIA,EAAEC,MAAMC,UAAUc,CAAtB,I,mBC7CHM,EAAY,SAAC,GAEnB,IAAD,IADJC,MAASC,EACL,EADKA,GAAIC,EACT,EADSA,YAAaC,EACtB,EADsBA,eAAgBC,EACtC,EADsCA,aAAcC,EACpD,EADoDA,aAElDC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAACrB,EAAD,WACE,UAACK,EAAD,CAAWiB,GAAE,kBAAaP,GAAMQ,MAAOH,EAAvC,WACE,SAACX,EAAD,CACEe,IACER,EAAW,yCAC2BA,GAClCS,EAENC,IAAKT,KAEP,SAACL,EAAD,UACGO,EAAY,UACNF,EADM,aACaE,EAAaQ,UAAU,EAAG,GADvC,eAENV,MAET,UAACP,EAAD,CAAMC,KAAMO,EAAaU,QAAQ,GAAjC,cAAuCV,EAAaU,QAAQ,UAInE,EC5BYC,EAAkBvC,EAAAA,GAAAA,GAAH,4HCEfwC,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC3B,OACE,SAACF,EAAD,UACGE,EAAOC,KAAI,SAAAlB,GAAK,OACf,SAACD,EAAD,CAA0BC,MAAOA,GAAjBA,EAAMC,GADP,KAKtB,C,kJCVYkB,EAAO3C,EAAAA,GAAAA,KAAH,wFAGL,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IAGAiC,EAAQ5C,EAAAA,GAAAA,MAAH,+LAGC,SAAAC,GAAC,OAAIA,EAAEC,MAAMW,OAAOC,MAAnB,IACL,SAAAb,GAAC,OAAIA,EAAEC,MAAMC,UAAUC,CAAtB,IAGE,SAAAH,GAAC,OAAIA,EAAEC,MAAMK,OAAOsC,IAAnB,IAINC,EAAS9C,EAAAA,GAAAA,OAAH,yWAEF,SAAAC,GAAC,OAAIA,EAAEC,MAAMS,MAAM,EAAlB,IAEC,SAAAV,GAAC,OAAIA,EAAEC,MAAMW,OAAOC,MAAnB,IAEL,SAAAb,GAAC,OAAIA,EAAEC,MAAMC,UAAUC,CAAtB,IACL,SAAAH,GAAC,OAAIA,EAAEC,MAAMK,OAAOW,IAAnB,IACU,SAAAjB,GAAC,OAAIA,EAAEC,MAAMK,OAAOwC,KAAnB,IACD,SAAA9C,GAAC,OAAIA,EAAEC,MAAMK,OAAOsC,IAAnB,IAIV,SAAA5C,GAAC,OAAIA,EAAEC,MAAMK,OAAOsC,IAAnB,I,SC3BDG,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,gBAEAC,EAAAA,EAAAA,YAAU,wBAAMH,EAAQ,UAACE,EAAaE,IAAI,gBAAlB,QAA8B,GAA5C,GAAiD,CAACF,IAW5D,OACE,UAACX,EAAD,CAAMM,SAVa,SAAAQ,GACnBA,EAAMC,iBACNT,EAASE,EAAMQ,OAAOC,cACvB,EAO+BC,aAAa,MAA3C,WACE,SAACjB,EAAD,CACEkB,KAAK,OACLC,YAAY,mBACZC,MAAOb,EACPc,SAVgB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACvBd,EAASc,EAAOF,MACjB,KAUG,SAAClB,EAAD,CAAQgB,KAAK,SAAb,sBAGL,E,6BCwBD,EA3Ce,WACb,OAAwCT,EAAAA,EAAAA,IAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBa,EAArB,KACA,GAA4BjB,EAAAA,EAAAA,UAAS,MAArC,eAAOT,EAAP,KAAe2B,EAAf,KACA,GAA8BlB,EAAAA,EAAAA,WAAS,GAAvC,eAAOmB,EAAP,KAAgBC,EAAhB,KACA,GAAgCpB,EAAAA,EAAAA,WAAS,GAAzC,eAAOqB,EAAP,KAAiBC,EAAjB,KACA,GAA8BtB,EAAAA,EAAAA,WAAS,GAAvC,eAAOuB,EAAP,KAAgBC,EAAhB,MAEAnB,EAAAA,EAAAA,YAAU,WACRe,GAAW,GACX,IAAMnB,EAAQG,EAAaE,IAAI,SAC1BL,IAGLmB,GAAW,GACXE,GAAY,IAEZG,EAAAA,EAAAA,IAAaxB,GACVyB,MAAK,SAAAZ,GACJI,EAAUJ,EACX,IACAa,OAAM,kBAAMH,GAAW,EAAjB,IACNI,SAAQ,kBAAMN,GAAY,EAAlB,IACZ,GAAE,CAAClB,IAMJ,OACE,UAACyB,EAAA,EAAD,YACE,SAAC/B,EAAD,CAAYC,SANK,SAAAe,GACnBG,EAAgBH,EAAQ,CAAEb,MAAOa,GAAU,CAAC,EAC7C,IAKIK,GAAWE,IAAY,SAACS,EAAA,EAAD,IACvBX,IAAYE,GAAYE,IACvB,SAAC,IAAD,0CAEDJ,IAAYE,IAAaE,GAA6B,IAAlBhC,EAAOwC,SAC1C,SAAC,IAAD,iDAEDZ,IAAYE,IAAaE,IAAW,SAACjC,EAAA,EAAD,CAAYC,OAAQA,MAG9D,C,2KC5CM,SAAekC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BxB,GAA5B,yFACkB+B,EAAAA,GAAAA,IAAA,+BAAkC/B,IADpD,uBACGgC,EADH,EACGA,KADH,kBAEEA,EAAKC,SAFP,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,yFACkBJ,EAAAA,GAAAA,IAAA,iBAAoBI,IADtC,uBACGH,EADH,EACGA,KADH,kBAEEA,GAFF,kEAKA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAuBD,GAAvB,yFACkBJ,EAAAA,GAAAA,IAAA,iBAAoBI,EAApB,aADlB,uBACGH,EADH,EACGA,KADH,kBAEEA,EAAKK,MAFP,kEAKA,SAAeC,EAAtB,kC,aAAO,O,oBAAA,WAA0BH,GAA1B,yFACkBJ,EAAAA,GAAAA,IAAA,iBAAoBI,EAApB,aADlB,uBACGH,EADH,EACGA,KADH,kBAEEA,EAAKC,SAFP,kEArBPF,EAAAA,GAAAA,SAAAA,QAAyB,gCAEzBA,EAAAA,GAAAA,SAAAA,OAAwB,CACtBQ,QAJU,mC","sources":["components/Messages/Messages.styled.js","components/MoviesList/MovieItem.styled.js","components/MoviesList/MovieItem.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","utils/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ErrorMessage = styled.p`\n  text-align: center;\n  font-size: ${p => p.theme.fontSizes.m};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  color: ${p => p.theme.colors.red};\n`;\n\nexport const WarningMessage = styled.p`\n  text-align: center;\n  font-size: ${p => p.theme.fontSizes.m};\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Item = styled.li`\n  text-align: center;\n  justify-content: center;\n  position: relative;\n  margin-right: ${p => p.theme.space[5]}px;\n  margin-bottom: ${p => p.theme.space[4]}px;\n  background-color: ${p => p.theme.colors.lightGrey};\n  border-radius: ${p => p.theme.radius.normal};\n  cursor: pointer;\n  transform: scale(1);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.02);\n  }\n`;\n\nexport const MovieLink = styled(Link)`\n  display: block;\n  text-decoration: none;\n  width: 260px;\n  padding-bottom: ${p => p.theme.space[4]}px;\n  font-size: ${p => p.theme.fontSizes.s};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  color: ${p => p.theme.colors.text};\n`;\n\nexport const Image = styled.img`\n  display: block;\n  width: 100%;\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\n\nexport const Vote = styled.span`\n  display: block;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  padding: ${p => p.theme.space[2]}px;\n  border-radius: ${p => p.theme.radius.normal};\n  color: ${({ vote }) => (vote >= 3 && vote <= 7 ? 'text' : 'white')};\n  background-color: ${({ vote }) =>\n    vote < 3 ? 'red' : vote > 7 ? 'green' : 'yellow'};\n`;\n\nexport const Title = styled.p`\n  display: block;\n  margin-bottom: ${p => p.theme.space[4]}px;\n  font-size: ${p => p.theme.fontSizes.s};\n`;\n","import { useLocation } from 'react-router-dom';\nimport { Item, MovieLink, Image, Title, Vote } from './MovieItem.styled';\nimport noImage from '../../images/noImage.png';\nimport PropTypes from 'prop-types';\n\nexport const MovieItem = ({\n  movie: { id, poster_path, original_title, vote_average, release_date },\n}) => {\n  const location = useLocation();\n\n  return (\n    <Item>\n      <MovieLink to={`/movies/${id}`} state={location}>\n        <Image\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w342${poster_path}`\n              : noImage\n          }\n          alt={original_title}\n        />\n        <Title>\n          {release_date\n            ? `${original_title} (${release_date.substring(0, 4)})`\n            : `${original_title}`}\n        </Title>\n        <Vote vote={vote_average.toFixed(2)}> {vote_average.toFixed(2)}</Vote>\n      </MovieLink>\n    </Item>\n  );\n};\n\nMovieItem.propTypes = {\n  movie: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    release_date: PropTypes.string,\n  }).isRequired,\n};\n","import styled from 'styled-components';\n\nexport const MoviesListStyle = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n","import { MovieItem } from './MovieItem';\nimport { MoviesListStyle } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ movies }) => {\n  return (\n    <MoviesListStyle>\n      {movies.map(movie => (\n        <MovieItem key={movie.id} movie={movie} />\n      ))}\n    </MoviesListStyle>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  margin: ${p => p.theme.space[5]}px;\n`;\n\nexport const Input = styled.input`\n  width: 300px;\n  height: 36px;\n  border-radius: ${p => p.theme.radius.normal};\n  font-size: ${p => p.theme.fontSizes.m};\n  padding-left: 8px;\n  padding-right: 8px;\n  border-color: ${p => p.theme.colors.blue};\n  border-style: solid;\n`;\n\nexport const Button = styled.button`\n  cursor: pointer;\n  margin-left: ${p => p.theme.space[3]}px;\n  min-width: 100px;\n  border-radius: ${p => p.theme.radius.normal};\n  border: none;\n  font-size: ${p => p.theme.fontSizes.m};\n  color: ${p => p.theme.colors.text};\n  background-color: ${p => p.theme.colors.white};\n  border: 2px solid ${p => p.theme.colors.blue};\n\n  &:hover,\n  &:focus {\n    color: ${p => p.theme.colors.blue};\n    box-shadow: 2px 2px 4px rgba(1, 180, 228, 0.5),\n      -2px -2px 4px rgba(1, 180, 228, 0.5);\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Form, Input, Button } from './SearchForm.styled';\nimport PropTypes from 'prop-types';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => setQuery(searchParams.get('query') ?? ''), [searchParams]);\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n    onSubmit(query.trim().toLowerCase());\n  };\n\n  const onInputChange = ({ target }) => {\n    setQuery(target.value);\n  };\n\n  return (\n    <Form onSubmit={onFormSubmit} autoComplete=\"off\">\n      <Input\n        type=\"text\"\n        placeholder=\"Enter movie name\"\n        value={query}\n        onChange={onInputChange}\n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../../utils/api';\nimport { Box } from '../../components/Box/Box';\nimport { SearchForm } from '../../components/SearchForm/SearchForm';\nimport { MoviesList } from '../../components/MoviesList/MoviesList';\nimport Loader from '../../components/Loader/Loader';\nimport {\n  WarningMessage,\n  ErrorMessage,\n} from '../../components/Messages/Messages.styled';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const [movies, setMovies] = useState(null);\n  const [isQuery, setIsQuery] = useState(false);\n  const [isLoader, setIsLoader] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    setIsQuery(false);\n    const query = searchParams.get('query');\n    if (!query) {\n      return;\n    }\n    setIsQuery(true);\n    setIsLoader(true);\n\n    searchMovies(query)\n      .then(value => {\n        setMovies(value);\n      })\n      .catch(() => setIsError(true))\n      .finally(() => setIsLoader(false));\n  }, [searchParams]);\n\n  const onFormSubmit = value => {\n    setSearchParams(value ? { query: value } : {});\n  };\n\n  return (\n    <Box>\n      <SearchForm onSubmit={onFormSubmit} />\n      {isQuery && isLoader && <Loader />}\n      {isQuery && !isLoader && isError && (\n        <ErrorMessage>Net error! Repeat please...</ErrorMessage>\n      )}\n      {isQuery && !isLoader && !isError && movies.length === 0 && (\n        <WarningMessage>Movies not found! Repeat please...</WarningMessage>\n      )}\n      {isQuery && !isLoader && !isError && <MoviesList movies={movies} />}\n    </Box>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst KEY = '59b490478b7d8f1129f5bb9350f6c53c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.params = {\n  api_key: KEY,\n};\n\nexport async function searchMovies(query) {\n  const { data } = await axios.get(`/search/movie?&query=${query}`);\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}`);\n  return data;\n}\n\nexport async function getCast(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/credits`);\n  return data.cast;\n}\n\nexport async function getReviews(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/reviews`);\n  return data.results;\n}\n\n// const ChildComponent = () => {\n//   const [todos, setTodos] = useState([]);\n\n//   useEffect(() => {\n//     const controller = new AbortController();\n\n//     async function fetchData() {\n//       try {\n//         const res = await axios.get(\n//           'https://jsonplaceholder.typicode.com/todos',\n//           {\n//             signal: controller.signal,\n//           }\n//         );\n//         setTodos((prevTodos) => [...prevTodos, ...res.data]);\n//       } catch (error) {}\n//     }\n\n//     fetchData();\n\n//     return () => {\n//       controller.abort();\n//     };\n//   }, []);\n"],"names":["ErrorMessage","styled","p","theme","fontSizes","m","fontWeights","bold","colors","red","WarningMessage","Item","space","lightGrey","radius","normal","MovieLink","Link","s","text","Image","Vote","vote","Title","MovieItem","movie","id","poster_path","original_title","vote_average","release_date","location","useLocation","to","state","src","noImage","alt","substring","toFixed","MoviesListStyle","MoviesList","movies","map","Form","Input","blue","Button","white","SearchForm","onSubmit","useState","query","setQuery","useSearchParams","searchParams","useEffect","get","event","preventDefault","trim","toLowerCase","autoComplete","type","placeholder","value","onChange","target","setSearchParams","setMovies","isQuery","setIsQuery","isLoader","setIsLoader","isError","setIsError","searchMovies","then","catch","finally","Box","Loader","length","axios","data","results","getMovieDetails","movieId","getCast","cast","getReviews","api_key"],"sourceRoot":""}